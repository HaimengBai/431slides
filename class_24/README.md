# Class 24: 2017-11-28

## Today's Slides

Today's Slides are available for download in both [PDF](https://github.com/THOMASELOVE/431slides/blob/master/class_24/431_2017_class-24-slides.pdf) and [R Markdown](https://github.com/THOMASELOVE/431slides/blob/master/class_24/431_2017_class-24-slides.Rmd) formats. 

The audio recording(s) for this class will be posted above when they become available.

## Announcements before class:

1. Today's Agenda
    - **eda.2sam is no more**: We're changing the `eda.2sam` function from `Love-boost.R` to the `eda.ksam` function now in `Love-boost.R`
        - See [this PDF](https://github.com/THOMASELOVE/431data/blob/master/Updating_Love-boost.pdf) for details and a demonstration of how to use the new `eda.ksam` function. 
            - The versions of `Love-boost.R` on this web site now include this new function. 
            - I think that all of the material on this site has this change in place but you'll tell me if I am wrong
                - This includes revised [Class 19 Slides](https://github.com/THOMASELOVE/431slides/tree/master/class_19), and a revised [Assignment 4 Sketch](https://github.com/THOMASELOVE/431homework/tree/master/HW4).
    - **Regression Models**: Modeling in the Tidyverse (Part C of the Course)
        - Box-Cox procedure for identifying potential outcome transformations
        - Adjusted R-squared in multiple regression as an indicator of overfitting
        - The assessment of collinearity (correlated predictors) with the VIF (variance inflation factor)
        - Pruning / Testing "Kitchen Sink" models
            + based on t tests for individual predictors (as "last predictor in")
            + based on ANOVA F tests for groups of predictors
            + based on stepwise AIC comparisons
        - Checking Model Assumptions with Residual Plots
        - Summarizing a Model in Words
        - See [Course Notes](https://thomaselove.github.io/431notes/), sections 37-. 
    - **Activity After Class 24**: There is a short activity you'll be doing, whether or not you attended today's class. It won't take long, and the only preparation is to settle on a final title (with your partner, as needed) for Study 2 (the "your data" part) of your Project. 
        - The [Google Form is here](https://goo.gl/forms/lkOXvOUQtvh7BY7y1). Please complete this by 9 AM Thursday 2017-11-30.

2. The Projects
    - You should be able to do all of your Project related to the Class Survey (Study 1) now. Things you'll need:
        - [Survey data and R Markdown file for cleaning](https://github.com/THOMASELOVE/431project/tree/master/SURVEY2017) - note that on 2017-11-26, we made a small correction to more correctly spell `surv_tidy$Q078d_Other_caffeinated`.
        - [Study 1 demonstration in Task E](https://github.com/THOMASELOVE/431project/tree/master/TaskE) - and Dr. Love edited this on 2017-11-26 to use `eda.ksam` instead of `eda.2sam` and also to correct a few typos.
    - For "your data" (Study 2), I refer you to:
        - Your Project Task D - note that the [Schedule](https://github.com/THOMASELOVE/431project/blob/master/TaskF/SCHEDULE.md) indicates whether I've received and approved your work on Task D.
        - The [Study 2 demonstration in Task E](https://github.com/THOMASELOVE/431project/tree/master/TaskE) is useful, too, if a little out of date.
    - Please [recheck the Project Schedule](https://github.com/THOMASELOVE/431project/blob/master/TaskF/SCHEDULE.md) to ensure you won't have a problem coming to my office at the planned time, and to ensure that all Tasks to date (should be A-D) are complete.
    - [Project Task E](https://github.com/THOMASELOVE/431project/tree/master/TaskE) is your final report, due at noon Wednesday 2017-12-13. A reminder that **all** of the documentation you provide there must be generated using R Markdown, and then presented using the HTML, Word or PDF file generated by your R Markdown files.
    - [Project Task F](https://github.com/THOMASELOVE/431project/tree/master/TaskF) is the final presentation. 

3. **R Tips** related to your project, especially
    - **Checking for missingness** Want to check a tibble (data frame) to see if there are any missing values? 
        - Instead of using `mice::md.pattern` or `Hmisc::describe` you might consider `any(is.na(dataframe))` if all you need is a TRUE (meaning there are missing values in the data frame) or a FALSE (meaning there are no missing values in the data frame.)
        - The `md.pattern` approach from `mice` seems to run into trouble on occasion dealing with variables of the class `character`. If you have character class variables (list your tibble to check or use `str()` to find out) then the md.pattern approach will treat those as NA values.
    - **For the project, drop all rows with NA values, especially if you will still have at least 250 observations** I strongly suggest you drop all rows with missing data from your tibble for your project, rather than imputing, especially if you're having any trouble with imputing.
        - `newdata <- na.omit(olddata)` will usually do it. 
        - You are welcome to *try* imputing, certainly, and we'll feature this in 432, but time is too short for this semester.
    - **Factors from Quantities** Want to turn a quantitative variable into a factor?
        - Suppose you had an `age` variable located in a `demodata` data set. If your goal is to create a binary variable from a quantitative (continuous) one, then I might use as.numeric to create a 1/0 variable, and then factor to create and label the factor.
            - `demodata$age.50plus <- as.numeric(demodata$age >= 50)`
            - `demodata$age.50plus <- factor(demodata$age.50plus, levels=c(1,0), labels=c("50 plus", "Less than 50"))`
        - If your goal is to create a four category variable from a quantitative one, then I might use the `cut2` function from the `Hmisc` package to select four groups of roughly equal size (these would be quartiles.)
            - `demodata$age.4groups <- Hmisc::cut2(demodata$age, g=4)`
        - Or we could pre-specify that we want groups of: Up to age 35, then 35 up to 50, and then 50 through 64 and then 65 and older with the following.
           - `demodata$age.groups4 <- Hmisc::cut2(demodata$age, cuts=c(35,50,65))`
    - **Scatterplot Matrix?** I suggest that you use `GGally::ggpairs` to draw a scatterplot matrix, rather than `pairs`.
    - **Anticipate that the graphs will take rework.** Gelman blog: [Think of graphics software like a hammer.](http://andrewgelman.com/2017/11/18/graphics-software-not-tool-makes-graphs-graphics-software-tool-allows-make-graphs/) "A hammer won’t drive in a nail for you. But if you have a nail and you know where to put it, you can use the hammer to drive in the nail yourself. ... graphics takes thought. You can’t just plug your results into a graphics program and hope to have readable, useful graphs."

4. Non-project Deliverables
    - **Quiz 2 Extra Task** Those of you planning (or needing) to complete the [Quiz 2 Extra Task](https://goo.gl/forms/1f27voQF33hqYOys1), do so by noon on Wednesday **2017-11-29**. Remember that a score of 18 or better is required, but if you don't do that well the first time, you can edit your responses until you do.
    - **Change in Assignment 6 Deadline** [Assignment 6](https://github.com/THOMASELOVE/431homework/blob/master/431-2017_assignment-6.md) is now due at noon on Monday **2017-12-04**.
        - In an attempt to ease the burden of the remainder of the course, and to keep the focus where it needs to be (on the project), you will see that **Questions 1 and 6 are no longer part of the assignment**. Instead, you are to do **Questions 2-5**, only.
        - To help you with Assignment 6, I encourage you to take advantage of three resources:
            - I have posted our [grading rubric for Questions 2-5](https://github.com/THOMASELOVE/431homework/blob/master/HW6/README.md) to help you gauge exactly what we're looking for in your responses.
            - The 431 Project Study 2 demonstration material in Task E is directly relevant to Questions 2-5. (2-6 actually, but we're not doing 6.) There's a [PDF](https://github.com/THOMASELOVE/431homework/blob/master/HW6/README.md) and a [R Markdown](https://github.com/THOMASELOVE/431project/blob/master/TaskE/431-project-study2-demonstration.Rmd) file to help you.
            - Everything you need is also in Part C of the [Course Notes](https://thomaselove.github.io/431notes/introduction-for-part-c.html).
    - **Quiz 3** will be made available to you on 2017-12-07 by 5 PM and is due at noon on Monday 2017-12-11.
    - **Appealing HW Grades**: Once all six assignments are complete and you know your grades on each, you may find an error in grading that you would like Dr. Love to review. Request this by filling out [this Google Form](https://goo.gl/forms/v5zBIuGnrLkbiuXU2). 
        - The deadline is noon on 2017-12-13.
        - Dr. Love will only consult this form if your course grade might plausibly be affected by the changes you request. 
        - See the [Grade Appeal Policy](https://thomaselove.github.io/431syllabus/general-course-policies.html#grade-appeal-policy---wait-until-december) in the Syllabus for more details.

5. Reminders
    - **Upgrade R and R Studio** If you haven't done so in a while, you really should consider upgrading R to version 3.4.2 (or later) and R Studio (I use version 1.1.383) - that will let you upgrade all of your packages, especially to version 1.2.1 (or later) of the tidyverse. Details, if you've forgotten what to do, are in [the software installation instructions](https://github.com/THOMASELOVE/431/blob/master/software-installation-431.md).
    - **Need Extra Help?** Some people may be looking for extra help outside of normal office hours between now and the end of their project. Some TAs are willing to meet with you by appointment at alternate times (for example, in the evening) as the semester comes to a close. If you're interested, email 431-help. As a reminder, regular TA office hours are posted in [the Course Syllabus](https://thomaselove.github.io/431syllabus/teaching-assistants.html#office-hours-for-tas).
    - [Course Notes](https://thomaselove.github.io/431notes/) **revisions** 
        - I added a **new section** (25.10) on dependent (paired) vs. independent samples approaches to comparing quantitative outcomes, which includes the questions and answers from the After Class 22 activity.
        - In addition, I posted some minor revisions to the [Course Notes](https://thomaselove.github.io/431notes/), in Sections 28, 37, 38, 42 and 49. I am very grateful to readers for pointing out issues, big or small.
    - You may be interested in [YaRrr! The Pirate's Guide to R](https://bookdown.org/ndphillips/YaRrr/) by Nathaniel Phillips. This book is meant to introduce you to the basic analytical tools in R, from basic coding and analyses, to data wrangling, plotting, and statistical inference. 
        - "This book clearly has both massive historical and pedagogical significance. Most importantly, it turns out that pirates were programming in R well before the earliest known advent of computers. Of slightly less significance is that the book has turned out to be a surprisingly up-to-date and approachable introductory text to R." 

## Announcements after class:
 
6. Please complete the [Activity after Class 24 Google Form](https://goo.gl/forms/lkOXvOUQtvh7BY7y1) by 9 AM Thursday 2017-11-30. Thank you.
